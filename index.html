<!DOCTYPE html>

<html>

<head>
    <meta name="viewport" content="width=device-width, height=device-height, initial scale=1.0"/>

    <link rel="stylesheet" type="text/css" href="masterStyle.css" charset="utf-8">

    <Title> Home | Calvin Ryan</Title>

    <link rel="icon" href="CR-Logo.png"/>
</head>

<body>
    
    <div id="wrapper">
        <div id="header">
            <p id="headerText">Calvin Ryan</p>
        </div>

        <div id="nav">
            <button id="button" onclick="location.href='index.html'" class="home">
                <p id="buttonText" class="home">Home</p>
            </button>
            <button id="button" onclick="location.href='projects.html'" class="projects">
                <p id="buttonText"class="projects">Projects</p>
            </button>
            <button id="button" onclick="location.href='photography.html'" class="photography">
                <p id="buttonText" class="photography">Photography</p>
            </button>
        </div>
        
        <div id="body">

            <div style="height:54px;"></div> 

            <div id="photoScroller">
                
                <div id="bodyImageContainer" onclick="location.href='index.html'" class="home active">
                    <img id="bodyImage" src="images/home.jpg"/>
                    <div id="imageHoverOverlay"></div>
                    <p id="imageHoverText" style="text-align: left; top: 120px; left: 100px; font-weight: 400;"> Home </p>
                    <p id="imageHoverText" style="text-align: left; top: 120px; left: 100px; margin-right: 40px; font-weight: 100;"><br/><br/> Learn a bit about me.</p>

                </div>


                <div id="bodyImageContainer" onclick="location.href='projects.html'" class="projects">
                    <img id="bodyImage"src="images/bikelight/bikelight6.jpg"/>
                    <div id="imageHoverOverlay" ></div>
                    <p id="imageHoverText" style="text-align: left; top: 120px; left: 100px; font-weight: 400;"> Projects </p>
                    <p id="imageHoverText" style="text-align: left; top: 120px; left: 100px; margin-right: 40px; font-weight: 100;"><br /><br /> Check out some of my technical projects.</p>
                </div>
                
                <div id="bodyImageContainer" onclick="location.href='photography.html'" class="photography">
                    <img id="bodyImage" src="images/landscapes/landscapes9.jpg"/>
                    <div id="imageHoverOverlay" ></div>
                    <p id="imageHoverText" style="text-align: left; top: 120px; left: 100px; font-weight: 400;"> Photography </p>
                    <p id="imageHoverText" style="text-align: left; top: 120px; left: 100px; margin-right: 40px; font-weight: 100;"><br /><br /> Explore some of my photography.</p>
                </div>
               
            </div>

            <p id="bodyTitleText"> About me </p>

            <p id="bodyText"> I'm Calvin. I'm a fifth year electrical engineering student at Northeastern University in Boston, MA. I have a passion for recognizing problems and pursuing solutions in fields ranging from sustainability to design.    
            </p>

            <div style="height: 50px"></div>
            
            <p id="bodyText">
                Get in touch .... <a id="email" href="mailto:me@calvinryan.com" target="_blank">me@calvinryan.com</a>
            </p>
            
        </div>
        
       
        <div id="footer">
            <p id="footerText">&copy 2015 Calvin Ryan</p>
        </div>    
        
    </div>
  
    <script src="jquery-2.1.4.min.js"></script> <!-- add jquery resource-->

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-72592033-1', 'auto');
        ga('send', 'pageview');
       
    </script>

    <script>    
        //function to determine which button is being hovered or focused
        function hoverDetect() {
            //**Button is the html tag, button is the class** Either works. Use class name because?
            var $button = $('div#nav button'); 
            var $im = $('div#bodyImageContainer');

            ($button).mouseenter(function () {
                $hoverState = $(this).attr('class');
            });

            ($im).mouseenter(function () {
                $hoverState = $(this).attr('class').replace(' active', ''); //replace removes active class
            });
            
            ($button).mouseleave(function () {
                $hoverState = null;
            });
            
            ($im).mouseleave(function () {
                $hoverState = null;
            });
        }
        
        //function to switch images quickly on button hover, speed is in mS
        function switchImage(activeSlide, newSlide, speed) {

            activeSlide.addClass('inactive');
            newSlide.css({ opacity: 0.0 });
            newSlide.addClass('active'); //set next image to active
            activeSlide.removeClass('active');
            newSlide.animate({ opacity: 1.0 }, speed, function () {
                activeSlide.removeClass('active inactive') 
            });
        }

        //function to change images in the slideshow if button is not hovered
        function slideshow() {

            var $first = $('div#photoScroller #bodyImageContainer:first'); //create var for first image in stack
            var $active = $('div#photoScroller #bodyImageContainer.active'); //create variable for active img
            var $next = $active.next(); //create variable for next image in stack

            if ($next.length == 0) { //if next image doesn't exist, then end of stack has been reached
                $next = $first; //set the next image to the first image
            }

            if ($hoverState == null) {
                switchImage($active, $next, 1000);
            }

        }
        
        //function to change images in the slideshow when button is hovered
        function switchOnHover() {

            var $active = $('div#photoScroller #bodyImageContainer.active');
            var $home = $('div#photoScroller #bodyImageContainer.home');
            var $projects = $('div#photoScroller #bodyImageContainer.projects');
            var $photography = $('div#photoScroller #bodyImageContainer.photography');
            //var $buttonText = $('#buttonText');

            hoverDetect();
            
            switch ($hoverState) {

                case 'home':
                    if (!$home.hasClass('active')) {
                        switchImage($active, $home, 200);
                    }
                    break;

                case 'projects':
                    if (!$projects.hasClass('active')) {
                        switchImage($active, $projects, 200);
                    }
                    break;

                case 'photography':
                    if (!$photography.hasClass('active')) {
                        switchImage($active, $photography, 200);
                    }
                    break;
            }
        }

        var $hoverState; //global hover state var
        
        setInterval("switchOnHover()", 100); //check button and switch image if necassary      

        setInterval("slideshow()", 5000); //cycle image if button is not held down

    </script> 

</body>

</html>
