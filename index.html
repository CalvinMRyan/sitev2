<!DOCTYPE html>

<html>



<head>
    <meta name="viewport" content="width=device-width, height=device-height, initial scale=1.0"/>
    <link rel="stylesheet" type="text/css" href="masterStyle.css" charset="utf-8">
</head>

<body>
    
    <div id="wrapper">
        <div id="header">
            <p id="headerText">Calvin Ryan</p>
        </div>

        <div id="nav" style="border-bottom: 0px solid black;">
            <button id="button" onclick="location.href='index.html'" class="home">
                <p id="buttonText">Home</p>
            </button>
            <button id="button" onclick="location.href='projects.html'" class="projects">
                <p id="buttonText">Projects</p>
            </button>
            <button id="button" onclick="location.href='photography.html'" class="photography">
                <p id="buttonText">Photography</p>
            </button>
        </div>
        
        <div id="body">
            <div id="photoScroller">
                <img src="images/home.jpg" , class="home active" />
                <img src="images/bikelight/bikelight0.jpg" class="projects" />
                <img src="images/landscapes/landscapes0.jpg" class="photography" />
            </div>

            <p id="bodyTitleText"> About me </p>

            <p id="bodyText"> I'm Calvin. I study electrical engineering at Northeastern University in Boston, MA. I have a passion for recognizing problems and pursuing solutions in fields ranging from sustainability to design.    
            </p>

            <div style="height: 50px"></div>
            
            <p id="bodyText">
                Get in touch .... <a id="email" href="mailto:me@calvinryan.com" target="_blank">me@calvinryan.com</a>
            </p>
            
        </div>
        
       
        <div id="footer">
            <p id="footerText">&copy 2015 Calvin Ryan</p>
        </div>    
        
    </div>
  
    <script src="jquery-2.1.4.min.js"></script> <!-- add jquery resource-->
    
    <script>
        
        //function to determine which button is being hovered or focused
        function buttonDetect() {
            var $button = $('div#nav button'); //**Button is the html tag, button is the class** Either works. Use class name because?

            ($button).mouseenter(function () {
                $buttonState = $(this).attr('class');
            });

            ($button).mouseleave(function () {
                $buttonState = null;
            });
        }
        
        //function to switch images quickly on button hover, speed is in mS
        function switchImage(activeSlide, newSlide, speed) {

            activeSlide.addClass('inactive');
            newSlide.css({ opacity: 0.0 });
            newSlide.addClass('active'); //set next image to active
            activeSlide.removeClass('active');
            newSlide.animate({ opacity: 1.0 }, speed, function () {
                activeSlide.removeClass('active inactive') //function must be in animate because otherwise it completes before animation completes? Incorrect theory I believe, but it works
            });
        }

        //function to change images in the slideshow if button is not hovered
        function slideshow() {

            var $first = $('div#photoScroller img:first'); //create var for first image in stack
            var $active = $('div#photoScroller img.active'); //create variable for active img
            var $next = $active.next(); //create variable for next image in stack

            if ($next.length == 0) { //if next image doesn't exist, then end of stack has been reached
                $next = $first; //set the next image to the first image
            }

            if ($buttonState == null) {
                switchImage($active, $next, 1000);
            }
        }
        
        //function to change images in the slideshow when button is hovered
        function switchOnHover() {

            var $active = $('div#photoScroller img.active');
            var $home = $('div#photoScroller img.home');
            var $projects = $('div#photoScroller img.projects');
            var $photography = $('div#photoScroller img.photography');

            buttonDetect();

            switch ($buttonState) {

                case 'home':
                    if (!$home.hasClass('active')) {
                        switchImage($active, $home, 200);
                    }
                    break;

                case 'projects':
                    if (!$projects.hasClass('active')) {
                        switchImage($active, $projects, 200);
                    }
                    break;

                case 'photography':
                    if (!$photography.hasClass('active')) {
                        switchImage($active, $photography, 200);
                    }
                    break;
            }
        }

        var $buttonState; //global button state var
        
        setInterval("switchOnHover()", 100); //check button and switch image if necassary       

        setInterval("slideshow()", 5000); //cycle image if button is not held down

    </script> 

</body>

</html>
